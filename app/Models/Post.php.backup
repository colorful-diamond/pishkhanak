<?php
// This is a backup reference for Post model fillable fields
// Make sure the Post model has these fillable fields:

protected $fillable = [
    'title',
    'slug', 
    'content',
    'excerpt',
    'category_id',
    'author_id',  // This MUST be in fillable
    'status',
    'featured',
    'published_at',
    'meta_title',
    'meta_description', 
    'meta_keywords',
    'views',
    'likes',
    'shares',
    'summary',
    'description',
    'thumbnail',
    'images',
    'ai_title',
    'ai_summary',
    'ai_description',
    'ai_thumbnail',
    'ai_images',
    'ai_headings',
    'ai_sections',
    'ai_content',
];

// Also ensure that the creating event sets author_id if not provided:
protected static function boot()
{
    parent::boot();
    
    static::creating(function ($post) {
        if (!$post->author_id) {
            $post->author_id = auth()->id() ?: 1; // Default to user ID 1 if no auth
        }
    });
}