<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
</head>
<html>
<title> استعلام پیش نویس سفته الکترونیک</title>
<body onload="checkSandbox()"  >
<xmp theme="cerulean" style="display:none;">

###GET /promissory/v2/clients/{clientId}/promissoryPublishRequestInquiry

* **شرح:** در این سرویس با وارد کردن کدملی صادرکننده، در خروجی پیش نویس سفته اکترونیک را دریافت خواهید کرد.

* **اسکوپ: **  ```promissory:publish-request-inquiry:get```

* **رویکرد: ** ```CLIENT-CREDENTIAL```

* **<a href="ResponsecodePromissory.pdf"> دانلود مستندات ریسپانس کد ها</a> **

````````````````
{address}/promissory/v2/clients/{clientId}/promissoryPublishRequestInquiry?trackId={trackId}&issuerIdCode={issuerIdCode}
````````````````
 <div class="sandboxaddress sandbox" id="sandbox" style="float:right" style="display: none" >
     https://sandboxapi.finnotech.ir <b> :address </b>
 </div>

 <div class="production-address production" style="float:right" style="display: block">
     https://api.finnotech.ir <b> :address </b>
 </div>


#### Headers
  مقادیر زیر باید در هدر قرار بگیرد
````````````````
Authorization : Bearer {Token}
````````````````
#### URI Parameters
  * **clientId:** شناسه کلاینت

#### Query Parameters
* **trackId :** (اجباری)  &#x202b; رشته ای با طول حداکثر ۴۰ کاراکتر شامل حرف و عدد. پیشنهاد 2ما برای trackId تولید کردن UUID است. در صورت نیاز به نتیجه یک فراخوانی میتوانید با trackId آن را فیلتر کنید. در گزارش فراخوانی سرویس فراخوانی مورد نظر را با همین کد پیگیری پیدا میکنید.
    * example:  ```ef226c90-20cc-48c1676a```
* **issuerIdCode :** (اجباری) کدملی صادرکننده ی سفته
    * example:  ```0069987007```


#### Successful result format (status code 200)
````````````````
{
    "responseCode": "FN-PSKZ-20000100000",
    "trackId": "526e-4a7f-92fd-af9f70f",
    "result": {
        "requestId": "287001038110306736481664269788",
        "unSignedPdf" : "base64PDF"
        "issuerName" : "نام صادرکننده"
        "issuerIdCode" : "0069987007"
        "issuerIban" : "IR070620000000311165320003"
        "issuerIdType" : "1"
        "issuerPostalCode": "1398547754",
        "issuerAddress": "تهرانسر",
        "issuerMobile": "09123456789",
        "receiverName": "نام دریافت کننده",
        "receiverIdCode": "0365287007",
        "receiverIdType": "1",
        "receiverMobile": "09123456789",
        "paymentPlace": "تهران",
        "amount" : "2000"
        "duDate": "14051011",
        "description": "توضیحات",
    },
    "status": "DONE"
}
````````````````
* **responseCode:** کد پاسخ دریافتی
* ** trackId:** کد پیگیری که در فراخوانی سرویس فرستاده شده است.
* ** result:** آبجکتی از پاسخ سرویس شامل:
    * **requestId: ** شناسه درخواست
    * **unSignedPdf: ** سفته ی امضا نشده با فرمت base64
    * **issuerName**: نام صادرکننده سفته
    * **issuerIdCode**: کدملی صادرکننده سفته
    * **issuerIban**: شماره شبا بانک آینده صادرکننده سفته
    * **issuerIdType**:  نوع کد شناسایی صادرکننده سفته: مشتری حقیقی 1 ،مشتری حقوقی 2
    * **issuerPostalCode**: کدپستی صادرکننده سفته
    * **issuerAddress**: آدرس صادرکننده سفته
    * **issuerMobile**: شماره موبایل صادرکننده سفته
    * **receiverName**: نام دریافت‌کننده سفته
    * **receiverIdCode**: کدملی دریافت‌کننده سفته
    * **receiverIdType**:  نوع کد شناسایی دریافت‌کننده سفته : مشتری حقیقی 1 ،مشتری حقوقی 2
    * **receiverMobile**: شماره موبایل دریافت‌کننده سفته
    * **paymentPlace**: محل پرداخت
    * **amount**: مبلغ تعهد
    * **duDate**: تاریخ سررسید
    * **description**: توضیحات
* ** status:** &#x202b; DONE/FAILED
* ** error:** جزییات خطا (در صورت بروز خطا)
    * **code:** استاتوس کد
    * **message:** پیغام خطا


#### UnSuccessful result format
در اینجا میتوانید لیست خطاهای سرویس ها را مشاهده کنید  [لیست خطاها](/doc/generic-errors.html)

<!--در اینجا میتوانید لیست خطاهای سرویس ها را مشاهده کنید  [تبدیل شماره پلاک به کد](/doc/plateNumberTable.html)-->

</xmp>
</body>
<script src="strapdown.js"></script>
<script src="controler.js"></script>
</html>